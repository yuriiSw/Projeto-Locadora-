<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Locadora de Filmes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="shortcut icon" type="imagex/jpg" href="img/iconsite.jpg">
  <link rel="stylesheet" href="css/Filmes.css" />
</head>

<body>
  <br />
  <div class="fixed-top"></div>
  <div class="fixed-top navbar-dark cor1">
    <nav>
      <a href="../Projeto-Locadora-/Filmes.html">
        <h1 id="titulosite" class="mr-auto">LOCADORA DE FILMES</h1>
    </a>
    
      <div class="mobile-menu">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
      </div>
      <ul class="nav-list">
        <li><a href="../Projeto-Locadora-/Filmes.html">INICIO</a></li>
        <li class="dropdown">
          <a href="#" class="dropbtn">FILMES</a>
          <div class="dropdown-content">
            <a href="listar_filmes.php">LISTAR E EDITAR</a>
            <a href="cadastro_filmes.html">CADASTRAR</a>
          </div>
        </li>
        <li class="dropdown">
          <a href="#" class="dropbtn">USUÁRIOS</a>
          <div class="dropdown-content">
            <a href="listar_usuarios.php">LISTAR E EDITAR</a>
          </div>
        </li>
      </ul>
      
      <button class="botaoexit" onclick="window.location.href='../Projeto-Locadora-/index.php'">Sair</button>

    </nav>
  </div>
  <br />
  <br />
  <br />
  <br />
  <br />


 <!-- Formulário de cadastro de filme -->
 <div class="container mt-5">
  <div class="row">
      <div class="col-md-6 offset-md-3">
          <h2>CADASTRAR FILME</h2>
          <BR>
          <form action="controler/cadastrar_filme.php" method="POST" enctype="multipart/form-data" id="filmeForm">            
            <div class="mb-3">
              <label for="nome_filme" class="form-label">Nome do Filme</label>
              <input
                type="text"
                class="form-control"
                id="nome_filme"
                name="nome_filme"
                required
              />
            </div>
            <div class="mb-3">
              <label for="genero_filme" class="form-label"
                >Gênero do Filme</label
              >
              <input
                type="text"
                class="form-control"
                id="genero_filme"
                name="genero_filme"
                required
              />
            </div>
            <!--campo de upload de imagem -->
            <div class="mb-3">
              <label for="imagem_filme" class="form-label"
                >Imagem do Filme (opcional)</label
              >
              <input
                type="file"
                class="form-control"
                id="imagem_filme"
                name="imagem_filme"
                accept="image/*"
              />
            </div>
            <div class="mb-3">
              <label for="classi_filme" class="form-label"
                >Classificação do Filme</label
              >
              <input
                type="text"
                class="form-control"
                id="classi_filme"
                name="classi_filme"
                required
              />
            </div>
            <div class="mb-3">
              <label for="idioma_filme" class="form-label"
                >Idioma do Filme</label
              >
              <input
                type="text"
                class="form-control"
                id="idioma_filme"
                name="idioma_filme"
                required
              />
            </div>
            <div class="mb-3">
              <label for="data_lanc_filme" class="form-label"
                >Data de Lançamento do Filme</label
              >
              <input
                type="date"
                class="form-control"
                id="data_lanc_filme"
                name="data_lanc_filme"
                required
              />
            </div>
            <div class="mb-3">
              <label for="duracao_filme" class="form-label"
                >Duração do Filme (minutos)</label
              >
              <input
                type="number"
                class="form-control"
                id="duracao_filme"
                name="duracao_filme"
                required
              />
            </div>
            <div class="mb-3">
              <label for="produtura_filme" class="form-label"
                >Produtora do Filme</label
              >
              <input
                type="text"
                class="form-control"
                id="produtura_filme"
                name="produtura_filme"
                required
              />
            </div>
            <br>
            <br>
            <div class="mb-3 d-grid gap-2 col-6 mx-auto">
              <button type="submit" class="btn btn-custom" id="submit-btn">Cadastrar</button>
          </div>
          </form>
      </div>
  </div>
</div>

<script>
  document.getElementById("filmeForm").addEventListener("submit", function(event) {
      event.preventDefault(); // Evita o envio padrão do formulário

      // Exibe o pop-up de confirmação
      if (confirm("Tem certeza de que deseja cadastrar?")) {
          // Aqui você pode adicionar código para enviar os dados via AJAX
          // Por exemplo, você pode usar o fetch API ou jQuery AJAX
          // Abaixo, um exemplo usando fetch API
          
          // Obtenha os dados do formulário
          const formData = new FormData(this);

          fetch(this.action, {
              method: 'POST',
              body: formData
          })
          .then(response => {
              if (response.ok) {
                  alert("Cadastro realizado com sucesso!");
                  // Aqui você pode adicionar código para limpar os campos do formulário, se desejar
              } else {
                  alert("Erro ao cadastrar filme. Por favor, tente novamente.");
              }
          })
          .catch(error => {
              console.error('Erro ao enviar requisição:', error);
              alert("Erro ao cadastrar filme. Por favor, tente novamente.");
          });
      }
  });
</script>






  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="js/script.js"></script>
</body>
<footer>
  <div class="footer-content">
      <div class="footer-text">
          <p>&copy; 2024 Locadora de Filmes</p>
          <p><a href="footer/sobrenos.html">Sobre</a> | <a href="footer/contatoform.html">Contato</a> | <a href="footer/politicaprivacidade.html">Política de Privacidade</a></p>
      </div>
      <div class="icons-container">
          <!-- Conteúdo dos ícones aqui -->
          <div class="icon">
            <a href="https://www.whatsapp.com"target="_blank">
              <img src="img/whatsappicon.png" alt="Ícone 1">
            </a>
          </div>
          <div class="icon">
            <a href="https://www.instagram.com" target="_blank">
              <img src="img/instagramicon.png" alt="Ícone 2">
            </a>
          </div>
          <div class="icon">
            <a href="https://www.facebook.com" target="_blank">
            <img src="img/facebookicon.png" alt="Ícone 2">
            </a>
        </div>
      </div>
  </div>
</footer>



</html>